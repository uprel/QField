#Every update requires an update of these hashes and the version within the control file of each of the 32 ports. 
#So it is probably better to have a central location for these hashes and let the ports update via a script
set(QT_MAJOR_MINOR_VER 5.12)
set(QT_PATCH_VER 7)
set(QT_UPDATE_VERSION 0) # Switch to update qt and not build qt. Creates a file cmake/qt_new_hashes.cmake in qt5-base with the new hashes.

set(QT_PORT_LIST base 3d activeqt charts connectivity datavis3d declarative gamepad graphicaleffects imageformats location macextras mqtt multimedia networkauth
                 purchasing quickcontrols quickcontrols2 remoteobjects script scxml sensors serialport speech svg tools virtualkeyboard webchannel websockets
                 webview winextras xmlpatterns)

set(QT_HASH_qt5-base                c8b90e50ec1824236541273b81024f1332c604748a038a48bc377b4c8e0886bfc27132990758abfd8ab9ea2aa5f1e42181ff369a0df4bc879dad0ef95868fde3)
set(QT_HASH_qt5-3d                  57c07756fb5838cf5201d4bf1ce5be843ba117356be768b5060750d3a8f117098ca97c8d10343d9554fa6d95ac00d7ee28ace6e6fb2770f18a1b575236b8afec)
set(QT_HASH_qt5-activeqt            00daeba4ca2751d3c3f10bd798040316d817e1a9866a760a3acd6ac6055a0c87b888b87a77c112401fd9fed8a5a146ad0c274cd2bdc03c48088f667dfe182e8e)
set(QT_HASH_qt5-charts              6e18b9e20616b43d95376ef229edd2eb2a2924bc05c44c9108b8e5fd94e20a80e34cadf03d36a1d45f62f2d7ba3a26b3e823def0af2c25c630830eb92bb22ceb)
set(QT_HASH_qt5-connectivity        42d2831eafd136344839ec6dce1f408d6e8822dd55f593286a1aa74b61766aa5ecf35bcf918ace6fa551b68407b829c3602d67b32b8c5ce16d19325c33f61359)
set(QT_HASH_qt5-datavis3d           a5c60318a7115cd7368b8d2e7c1a83c207734ab63e9c6b7dfa451a3752d9e1f5ca6d718b65d1b11ecd59a6049adb2de8e5f78a305f3ee5d828d664bb11c5b0a6)
set(QT_HASH_qt5-declarative         119155aed8ad6e74f7be2d0e44bf630fc493227c6ad0fdbd9a85bba8770939a0dd6c21a8583851e5adf243d51bdeb64bf79e1c4898176898e05a3897052315b6)
set(QT_HASH_qt5-gamepad             a7d3cc74e9a0b269acadfd5faa2a72ef3132762c51c31a346319899f165d67c9d92e0f1b80c4e748209c31502f30600bf0d012e8f478caf959f34ff33389ba05)
set(QT_HASH_qt5-graphicaleffects    fd6b59198e834a9e36e58445055610ac6dcfcb96d405d2dc294e0397460d6fdd119cfd4b0f29f43009154d623071dcb335223e33872fbfb5b6004abe9b6f5a55)
set(QT_HASH_qt5-imageformats        1d721969bdb64b9674ecde992424e02997f051422d8d762d0e7930ae549792d1152751398ee2a906055da9d26df02d93f565d82a2e80a2659dcbd3ad347b4727)
set(QT_HASH_qt5-location            e82673e56f648a675df36c32a73217bf49b309a356c0de9e4defe14c3070d1d482d797fc11adca632edb59af9993f92e562dc5cb44dbcbad677ac3980c35676c)
set(QT_HASH_qt5-macextras           3b5be4a929fef28061f195ad5aad2eafa9e5a3e03f405f8d3bf9eb5bfe66443d90a4d6ff6081a3cc1557017b896f70f617d828c874414572477d7950167291de )
set(QT_HASH_qt5-mqtt                83c105ef7c4ccdb87cb2fa8d35da32ef6be32aeb57f6ec2b0176e9e565a7d8dd8989727e03b5c982073b63a752d39a865eeaa62a82d3cfaa22bfef60978cdef0 )
set(QT_HASH_qt5-multimedia          25bce2851190cc4df47432c8ddee831fe9ea172f4a612a18bde6b1ce8c0f0fdc09ca0e484dad9e2d8659bfe0c84e2801a84c7f75d32976a5a9cdf1ba9e871f3c)
set(QT_HASH_qt5-networkauth         484724ce60975c74e737c082f08dfc889e327618ca8efa83ed47b940ae515c836db9fd78ba67e930d27a1c1cd91cb14bdc055500c287c2e9853ddcfe1e1c43a6)
set(QT_HASH_qt5-purchasing          08f2e97acab278e5fd53ef5ec9f3c9e15d3bf9d412f8d83ef4a0ab16619b4cc46940ee9ba5a770db98e79c4fbad24fca55d50de78ce3c30162ac6fb3ebf2d4c0)
set(QT_HASH_qt5-quickcontrols       75f8600ec001131ac510057c6b16a5c34aae3a5ad6af5dc801ea3c63896e290c1bb5d71dd404613cf2958cdd965a924c1783029ec5d392f4db43aefa3ea0821c)
set(QT_HASH_qt5-quickcontrols2      bd469316594e09da064fc6792c08ee87f345ab8c27bd33ae3fc38d184bebabf1ed824147eb960ac2700c67a683097c7615aebb0f717dc1a5ff1b330f27554ae9)
set(QT_HASH_qt5-remoteobjects       7d0591e8b0232b65ce76fba18098aeee23390403430dae411f12e3bad4e3721c5160d6d46ed5fefcc38e01dcd593231f7a7f6eaf421ed91c6939af25d96bd9fc)
set(QT_HASH_qt5-script              49a1b0563734908be0f3b99f0295f1f869f831d8e2b6ae77bd70c2a2f1fbc6bea8a8bda0092a1519d03f2969cfe38fede64530d9221734d907efd3137b9769be)
set(QT_HASH_qt5-scxml               3c044127bb3f41945f959386c664d66035606dddac843fe029aeb52f0807f23e5ff2adced21e94533312d0030149866a80d49e0b3aa9222c6e6b99636d26dbd6)
set(QT_HASH_qt5-sensors             baa576792347bd0a95178a7e0b5ad47bcd4828d64b3801bfb1394647d95f8255b8800e52d9be0bde50b2fc9f0633d21ada940d4b7ff17c8cce72499b7b4a06ee)
set(QT_HASH_qt5-serialport          59d14147bfb9e4885e9c88f70b261c021d4947cc04ce9982e821ae8b307d6323d797e6788764c206bef7b3013c6b9bed9288573c2ede33d4321c9f5a6907d1f5)
set(QT_HASH_qt5-speech              e3bc06f7952eee5c34f33c1a4404ccd12dd8886ef8d8af527dba41b58a27c5c667fea4bdaed7bfcfdcc9a2ca0f4a19f35c2c92995565a696828b5b4a41e31b3e)
set(QT_HASH_qt5-svg                 13e6053c99cc0f5b31bc48df0a8b93cfa26e49f3aa2732850747c7a8b3e78ff0a1c620e2a8729d291b5a6cf935d9a481f361ec9f6a78ae090ca997b344786f47)
set(QT_HASH_qt5-tools               d1e0b55e4eb5c22c9a912cf28a62f30e02d020a22085f5556e0ef9034aca849423cb2d6c9d27ffb3a6ffefe4a2e522b84ec1dd5ce700360d746c22be0c59c94b)
set(QT_HASH_qt5-virtualkeyboard     c8ebd905d15d23ea72df5857c25438b25a50e49f332bcf79cc3c81a9951589a56d11c3aaf7986387065f5020ad770efe93ca1e2a14fdfc6f1333b8e6439dd66e)
set(QT_HASH_qt5-webchannel          a5587abd6daf60f985cfa29c68449347bd22a8f63c6027400b02378b9c85cfbe1a45e8a844609b99b8646bcf980b0dd262b191226a0c8fd931b3e96696fe6469)
set(QT_HASH_qt5-websockets          96762336abdb460a3279a6f47456e0b5690572f203a14fa2f0bf9e71a5cffbf6f512682e2c681ee3d3c2a87eb56ff5ac938f5ac828558b0e2745335f08201349)
set(QT_HASH_qt5-webview             73e79c5f4d7b67b9cd2513abd709deccedcad3e5ab50755ba70f7e8123031acab6e38299eed7c03ccd3478f19d58cdc75726863f280a44b1c852aaa4d816f9a4)
set(QT_HASH_qt5-winextras           450959c57e0cbcd35738232c4ba3ecaae1bec4c10fbca6d8ce31cf9029440835ddfea6811be7d9274a784b58c2a54c7bd721859e9b8439e2583bb15cfb9fda8e)
set(QT_HASH_qt5-xmlpatterns         f228c9c20b5aa00fc4f0e6918a53b780f10d58288c2af2b0edb8e279f1d21dd7a22afb0a08115cd0e3cab7adec1b4d2ee44cd1aff9298fb62b60a77d8d147ea9)
##TODO
set(QT_HASH_qt5-doc                 0b3b2aa09429b7a20dd9704de5dc51392937e57949873088e33d54e41e05bebb17f95a57bb852bc510977eff0deba6453c115b7fb5e7021f4e182aa0c15474c0)
set(QT_HASH_qt5-x11extras           1cf6b82fd884c88c941fc5d1a1bcc1e3da50fd1252c83c23c72411cbc7a9d81ff5b363175908b30927718706bc40a03b0cc9e64a96e91544e0a40af2c4144afd)
set(QT_HASH_qt5-androidextras       d2bdef84b0749d921fa2f71aef15b91ccafe40f6edfe9d47b7999072b3b8c5e7a143c91a6e96c14933c13b91ebbc657c287716db0efcb1da2b7ccb2ed239384d)
set(QT_HASH_qt5-canvas3d            7f8374a98b4cd9e463ccfa29697f3b77c9b505953730c668ee4cb1cfc45d26a7c5c7a102a2779f70174a13333a91f5a3f6df096bf55ceb17258548ec86048794)
set(QT_HASH_qt5-translations        6a4af59d916f060d726acfaf12e23c09adc73243f1f38bd3cb76a7d688dcb78b69ced6606dce2615a1ebdec09d210547d51975d0678d092cb61153551b1f6fff)
set(QT_HASH_qt5-serialbus           66230ca95cb86bd3408dfa79236e37c350f4df8be8886d8f6206f0822068a05a24bfd3e29e5a5cc3c3cdd9f437d4609e5ee2c3fc7c4813117a1bb349a873dfb0)
set(QT_HASH_qt5-webengine           ff9e07abf5b708ef2320cccc53e032a3e0042926c71e5a76c880d4f97fb7f2c4ae4db2587c7998bae8690cd6f48a2dc4df1c2f5122121def99bef5ee7f7e70f2)
set(QT_HASH_qt5-webglplugin         3a06e66734b2937ca84919fd93ec35c7768b11d8fa7916a48d9be19cec091f2acd6966bd495bde141b17582ae36c8a32718b13946977331b18e403eadfb02c53)
set(QT_HASH_qt5-wayland             28d3d4b5df0c35bea5a9c9ffd032b01fe6c51a4c32d6ecc823d5103871f282ced9f7670901b6b74c0c042e7f816df5107d362d154ba109cfe8e3ba61b63778d5)


if(QT_UPDATE_VERSION)
    message(STATUS "Running Qt in automatic version port update mode!")
    set(_VCPKG_INTERNAL_NO_HASH_CHECK 1)
    if("${PORT}" MATCHES "qt5-base")
        foreach(_current_qt_port ${QT_PORT_LIST})
            set(_current_control "${VCPKG_ROOT_DIR}/ports/qt5-${_current_qt_port}/CONTROL")
            file(READ ${_current_control} _control_contents)
            #message(STATUS "Before: \n${_control_contents}")
            string(REGEX REPLACE "Version:[^0-9]+[0-9]\.[0-9]+\.[0-9]+[^\n]*\n" "Version: ${QT_MAJOR_MINOR_VER}.${QT_PATCH_VER}\n" _control_contents "${_control_contents}")
            #message(STATUS "After: \n${_control_contents}")
            file(WRITE ${_current_control} "${_control_contents}")
        endforeach()
    endif()
endif()